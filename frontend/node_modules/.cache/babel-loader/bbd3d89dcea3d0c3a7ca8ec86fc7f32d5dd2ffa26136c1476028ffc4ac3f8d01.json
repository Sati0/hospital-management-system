{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\goud0\\\\Downloads\\\\hospital-management-system\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport './App.css';\nimport Login from './components/Login';\nimport Sidebar from './components/Sidebar';\nimport PersonalDetails from './components/PersonalDetails';\nimport SearchDoctor from './components/SearchDoctor';\nimport AppointmentStatus from './components/AppointmentStatus';\nimport PreviousAppointments from './components/PreviousAppointments';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\nfunction App() {\n  _s();\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState(null);\n  const [currentPage, setCurrentPage] = useState('personal');\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      fetchUserData(token);\n    }\n  }, []);\n  const fetchUserData = async token => {\n    try {\n      const response = await fetch(`${API_URL}/api/auth/me`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const userData = await response.json();\n        setUser(userData);\n        setIsAuthenticated(true);\n      } else {\n        localStorage.removeItem('token');\n      }\n    } catch (error) {\n      console.error('Error fetching user data:', error);\n      localStorage.removeItem('token');\n    }\n  };\n  const handleLogin = (token, userData) => {\n    localStorage.setItem('token', token);\n    setUser(userData);\n    setIsAuthenticated(true);\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    setUser(null);\n    setIsAuthenticated(false);\n  };\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(Login, {\n      onLogin: handleLogin,\n      apiUrl: API_URL\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\",\n          children: \"\\uD83C\\uDFE5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Hospital Management System\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"logout-btn\",\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-container\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n        currentPage: currentPage,\n        setCurrentPage: setCurrentPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"main-content\",\n        children: [currentPage === 'personal' && /*#__PURE__*/_jsxDEV(PersonalDetails, {\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 42\n        }, this), currentPage === 'search' && /*#__PURE__*/_jsxDEV(SearchDoctor, {\n          apiUrl: API_URL\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 40\n        }, this), currentPage === 'status' && /*#__PURE__*/_jsxDEV(AppointmentStatus, {\n          apiUrl: API_URL\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 40\n        }, this), currentPage === 'previous' && /*#__PURE__*/_jsxDEV(PreviousAppointments, {\n          apiUrl: API_URL\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 42\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"vXkRyOvhgR3m5ASaPPfMfBuc2Dg=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Login","Sidebar","PersonalDetails","SearchDoctor","AppointmentStatus","PreviousAppointments","jsxDEV","_jsxDEV","API_URL","process","env","REACT_APP_API_URL","App","_s","isAuthenticated","setIsAuthenticated","user","setUser","currentPage","setCurrentPage","token","localStorage","getItem","fetchUserData","response","fetch","headers","ok","userData","json","removeItem","error","console","handleLogin","setItem","handleLogout","onLogin","apiUrl","fileName","_jsxFileName","lineNumber","columnNumber","className","children","onClick","_c","$RefreshReg$"],"sources":["C:/Users/goud0/Downloads/hospital-management-system/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport './App.css';\r\nimport Login from './components/Login';\r\nimport Sidebar from './components/Sidebar';\r\nimport PersonalDetails from './components/PersonalDetails';\r\nimport SearchDoctor from './components/SearchDoctor';\r\nimport AppointmentStatus from './components/AppointmentStatus';\r\nimport PreviousAppointments from './components/PreviousAppointments';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\r\n\r\nfunction App() {\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const [currentPage, setCurrentPage] = useState('personal');\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      fetchUserData(token);\r\n    }\r\n  }, []);\r\n\r\n  const fetchUserData = async (token) => {\r\n    try {\r\n      const response = await fetch(`${API_URL}/api/auth/me`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const userData = await response.json();\r\n        setUser(userData);\r\n        setIsAuthenticated(true);\r\n      } else {\r\n        localStorage.removeItem('token');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching user data:', error);\r\n      localStorage.removeItem('token');\r\n    }\r\n  };\r\n\r\n  const handleLogin = (token, userData) => {\r\n    localStorage.setItem('token', token);\r\n    setUser(userData);\r\n    setIsAuthenticated(true);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    setUser(null);\r\n    setIsAuthenticated(false);\r\n  };\r\n\r\n  if (!isAuthenticated) {\r\n    return <Login onLogin={handleLogin} apiUrl={API_URL} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"app-header\">\r\n        <div className=\"header-left\">\r\n          <div className=\"logo\">üè•</div>\r\n          <h1>Hospital Management System</h1>\r\n        </div>\r\n        <button className=\"logout-btn\" onClick={handleLogout}>Logout</button>\r\n      </header>\r\n\r\n      <div className=\"app-container\">\r\n        <Sidebar currentPage={currentPage} setCurrentPage={setCurrentPage} />\r\n        \r\n        <main className=\"main-content\">\r\n          {currentPage === 'personal' && <PersonalDetails user={user} />}\r\n          {currentPage === 'search' && <SearchDoctor apiUrl={API_URL} />}\r\n          {currentPage === 'status' && <AppointmentStatus apiUrl={API_URL} />}\r\n          {currentPage === 'previous' && <PreviousAppointments apiUrl={API_URL} />}\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}